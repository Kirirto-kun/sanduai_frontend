# üìù –≠—Å—Å–µ - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Frontend

## –¢—Ä–∏ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞

### 1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å —ç—Å—Å–µ ‚Üí 2Ô∏è‚É£ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí 3Ô∏è‚É£ –°–∫–∞—á–∞—Ç—å DOCX

---

## 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç—Å—Å–µ

**POST** `/api/essay/generate`

### –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å:
```json
{
  "topic": "–ê–±–∞–π “ö“±–Ω–∞–Ω–±–∞–µ–≤",
  "language": "kaz",           // "kaz" –∏–ª–∏ "rus"
  "grade_level": "10 —Å—ã–Ω—ã–ø",
  "word_count": 400,
  "essay_type": "argumentative" // "argumentative", "descriptive", "narrative"
}
```

### –ü–æ–ª—É—á–∞–µ—à—å:
```json
{
  "title": "–ê–±–∞–π “ö“±–Ω–∞–Ω–±–∞–µ–≤: “õ–∞–∑–∞“õ ”ô–¥–µ–±–∏–µ—Ç—ñ–Ω—ñ“£ –∫”©—à–±–∞—Å—à—ã—Å—ã",
  "essay_plan": [
    "–ê–±–∞–π–¥—ã“£ ”©–º—ñ—Ä—ñ",
    "–®—ã“ì–∞—Ä–º–∞—à—ã–ª—ã“õ –∂–æ–ª—ã",
    "“ö–∞–∑—ñ—Ä–≥—ñ –º–∞“£—ã–∑—ã"
  ],
  "content_blocks": [
    {
      "section_type": "introduction",
      "text": "–ê–±–∞–π “ö“±–Ω–∞–Ω–±–∞–µ–≤ ‚Äî “õ–∞–∑–∞“õ —Ö–∞–ª“õ—ã–Ω—ã“£ “±–ª—ã –∞“õ—ã–Ω—ã..."
    },
    {
      "section_type": "body",
      "text": "–ê–±–∞–π —à—ã“ì–∞—Ä–º–∞—à—ã–ª—ã“ì—ã–Ω—ã“£ –±–∞—Å—Ç—ã –µ—Ä–µ–∫—à–µ–ª—ñ–≥—ñ..."
    },
    {
      "section_type": "body",
      "text": "–û–Ω—ã“£ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è–ª—ã“õ –æ–π–ª–∞—Ä—ã..."
    },
    {
      "section_type": "conclusion",
      "text": "“ö–æ—Ä—ã—Ç—ã–Ω–¥—ã–ª–∞–π –∫–µ–ª–µ, –ê–±–∞–π –º“±—Ä–∞—Å—ã..."
    }
  ]
}
```

‚è±Ô∏è **15-40 —Å–µ–∫—É–Ω–¥**

---

## 2. –†–µ–¥–∞–∫—Ç—É—Ä–∞ —ç—Å—Å–µ

**POST** `/api/essay/revise`

### –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –ø—Ä–∞–≤–∏—Ç—å:

#### A) –¢–æ—á–µ—á–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–ª–æ–≤–∞/—Ñ—Ä–∞–∑—ã)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–¥–µ–ª—è–µ—Ç —Å–ª–æ–≤–æ "–±–µ–ª—ã–π" ‚Üí –ø–∏—à–µ—Ç "–∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–∏–Ω–æ–Ω–∏–º"

```json
{
  "current_content_blocks": [
    {
      "section_type": "introduction",
      "text": "–ê–±–∞–π –±–µ–ª—ã–π “õ–∞–∑–∞“õ —Ö–∞–ª“õ—ã–Ω—ã“£ –∞“õ—ã–Ω—ã..."
    }
  ],
  "inline_comments": [
    {
      "target_text": "–±–µ–ª—ã–π",
      "instruction": "–∑–∞–º–µ–Ω–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–∞–¥–µ–∂–∞"
    }
  ]
}
```

#### B) –û–±—â–∏–µ –ø—Ä–∞–≤–∫–∏ (–≤–µ—Å—å —Ç–µ–∫—Å—Ç)

```json
{
  "current_content_blocks": [...—Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç...],
  "general_instruction": "–°–¥–µ–ª–∞–π —Å—Ç–∏–ª—å –±–æ–ª–µ–µ –∞–∫–∞–¥–µ–º–∏—á–Ω—ã–º"
}
```

#### C) –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤–º–µ—Å—Ç–µ

```json
{
  "current_content_blocks": [...],
  "inline_comments": [
    {"target_text": "–±–µ–ª—ã–π", "instruction": "–∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–∏–Ω–æ–Ω–∏–º"}
  ],
  "general_instruction": "–£–±–µ—Ä–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Å–ª–æ–≤–∞"
}
```

### –ü–æ–ª—É—á–∞–µ—à—å:
```json
{
  "title": "...",
  "essay_plan": [...],
  "content_blocks": [
    {
      "section_type": "introduction",
      "text": "–ê–±–∞–π –≤—ã–¥–∞—é—â–∏–π—Å—è “õ–∞–∑–∞“õ —Ö–∞–ª“õ—ã–Ω—ã“£ –∞“õ—ã–Ω—ã..." // ‚Üê –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ç–æ–ª—å–∫–æ "–±–µ–ª—ã–π"
    }
  ]
}
```

**–í–ê–ñ–ù–û:** AI –º–µ–Ω—è–µ—Ç –¢–û–õ–¨–ö–û —Ç–æ, —á—Ç–æ —Ç—ã –ø–æ–ø—Ä–æ—Å–∏–ª. –û—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç!

‚è±Ô∏è **15-40 —Å–µ–∫—É–Ω–¥**

---

## 3. –°–∫–∞—á–∞—Ç—å DOCX

**POST** `/api/essay/export/docx`

### –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å:
```json
{
  "title": "–ê–±–∞–π “ö“±–Ω–∞–Ω–±–∞–µ–≤",
  "essay_plan": ["–ø—É–Ω–∫—Ç 1", "–ø—É–Ω–∫—Ç 2"],
  "content_blocks": [
    {"section_type": "introduction", "text": "..."},
    {"section_type": "body", "text": "..."},
    {"section_type": "conclusion", "text": "..."}
  ]
}
```

### –ü–æ–ª—É—á–∞–µ—à—å:
–§–∞–π–ª `essay.docx` —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:
- ‚úÖ Times New Roman, 14pt
- ‚úÖ –ö—Ä–∞—Å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 1.25 —Å–º
- ‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª 1.15
- ‚úÖ –ü–ª–∞–Ω —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π

‚è±Ô∏è **1-3 —Å–µ–∫—É–Ω–¥—ã**

---

## üíª –ö–æ–¥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### JavaScript

```javascript
const API_URL = 'http://localhost:8000';
const token = localStorage.getItem('token');

// 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
async function generateEssay(topic, language, grade, wordCount, type) {
  const res = await fetch(`${API_URL}/api/essay/generate`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      topic, language, 
      grade_level: grade, 
      word_count: wordCount, 
      essay_type: type
    })
  });
  return await res.json();
}

// 2. –†–µ–¥–∞–∫—Ç—É—Ä–∞ (—Ç–æ—á–µ—á–Ω–∞—è)
async function reviseEssay(blocks, targetText, instruction) {
  const res = await fetch(`${API_URL}/api/essay/revise`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      current_content_blocks: blocks,
      inline_comments: [
        { target_text: targetText, instruction: instruction }
      ]
    })
  });
  return await res.json();
}

// 3. –°–∫–∞—á–∞—Ç—å
async function downloadDocx(title, blocks, plan) {
  const res = await fetch(`${API_URL}/api/essay/export/docx`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      title, 
      content_blocks: blocks, 
      essay_plan: plan
    })
  });
  
  const blob = await res.blob();
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'essay.docx';
  a.click();
  URL.revokeObjectURL(url);
}
```

---

## üé® –ö–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ UI

### –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ê–±–∞–π “ö“±–Ω–∞–Ω–±–∞–µ–≤                         ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  –ü–ª–∞–Ω:                                  ‚îÇ
‚îÇ  1. –ê–±–∞–π–¥—ã“£ ”©–º—ñ—Ä—ñ                       ‚îÇ
‚îÇ  2. –®—ã“ì–∞—Ä–º–∞—à—ã–ª—ã“õ –∂–æ–ª—ã                   ‚îÇ
‚îÇ  3. “ö–∞–∑—ñ—Ä–≥—ñ –º–∞“£—ã–∑—ã                      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ     ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  [INTRODUCTION]                         ‚îÇ
‚îÇ  –ê–±–∞–π “ö“±–Ω–∞–Ω–±–∞–µ–≤ ‚Äî “õ–∞–∑–∞“õ —Ö–∞–ª“õ—ã–Ω—ã“£...    ‚îÇ
‚îÇ  (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ)                   ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  [BODY]                                 ‚îÇ
‚îÇ  –ê–±–∞–π —à—ã“ì–∞—Ä–º–∞—à—ã–ª—ã“ì—ã–Ω—ã“£...               ‚îÇ
‚îÇ  (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ)                   ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  [CONCLUSION]                           ‚îÇ
‚îÇ  “ö–æ—Ä—ã—Ç—ã–Ω–¥—ã–ª–∞–π –∫–µ–ª–µ...                   ‚îÇ
‚îÇ  (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ)                   ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  [üîÑ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–±—â—É—é –ø—Ä–∞–≤–∫—É]            ‚îÇ
‚îÇ  [üíæ –°–∫–∞—á–∞—Ç—å DOCX]                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –†–µ–¥–∞–∫—Ç—É—Ä–∞ (–≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞):

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–¥–µ–ª—è–µ—Ç —Å–ª–æ–≤–æ ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è popup:

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å?          ‚îÇ
‚îÇ [—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ]      ‚îÇ
‚îÇ "–∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–∏–Ω–æ–Ω–∏–º"   ‚îÇ
‚îÇ                       ‚îÇ
‚îÇ [–ü—Ä–∏–º–µ–Ω–∏—Ç—å]  [–û—Ç–º–µ–Ω–∞] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä –¢–∏–ø—ã —ç—Å—Å–µ

| essay_type | –†—É—Å—Å–∫–∏–π | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ |
|-----------|---------|-----------|
| `argumentative` | –ê—Ä–≥—É–º–µ–Ω—Ç–∞—Ç–∏–≤–Ω–æ–µ | –¢–µ–∑–∏—Å ‚Üí –ê—Ä–≥—É–º–µ–Ω—Ç—ã ‚Üí –í—ã–≤–æ–¥ |
| `descriptive` | –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ ‚Üí –î–µ—Ç–∞–ª–∏ ‚Üí –ü—Ä–∏–º–µ—Ä—ã |
| `narrative` | –ü–æ–≤–µ—Å—Ç–≤–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ | –ó–∞–≤—è–∑–∫–∞ ‚Üí –†–∞–∑–≤–∏—Ç–∏–µ ‚Üí –§–∏–Ω–∞–ª |

---

## ‚ö†Ô∏è –û—à–∏–±–∫–∏

| –°—Ç–∞—Ç—É—Å | –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å | –ß—Ç–æ –¥–µ–ª–∞—Ç—å |
|--------|---------------|------------|
| 401 | –¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω | –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è |
| 502 | AI –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª | –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É |
| 400 | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—è —Ñ–æ—Ä–º—ã |

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

- [ ] –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏: —Ç–µ–º–∞, —è–∑—ã–∫, –∫–ª–∞—Å—Å, —Ç–∏–ø —ç—Å—Å–µ
- [ ] Loading –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (15-40 —Å–µ–∫)
- [ ] –ü–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω + –±–ª–æ–∫–∏ —Ç–µ–∫—Å—Ç–∞
- [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é
- [ ] –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ ‚Üí popup –¥–ª—è AI-–ø—Ä–∞–≤–∫–∏
- [ ] –ü–æ–ª–µ –¥–ª—è –æ–±—â–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ö–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å DOCX"
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (401, 502)

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```javascript
// –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä
const essay = await fetch('http://localhost:8000/api/essay/generate', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_TOKEN',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    topic: "–ê–±–∞–π “ö“±–Ω–∞–Ω–±–∞–µ–≤",
    language: "kaz",
    grade_level: "10 —Å—ã–Ω—ã–ø",
    word_count: 400,
    essay_type: "argumentative"
  })
}).then(r => r.json());

console.log(essay.title);
console.log(essay.essay_plan);
console.log(essay.content_blocks);
```

**–ì–æ—Ç–æ–≤–æ!** –í—Å—ë —á—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚úÖ

